/* ---------- ROOT PALETTE ---------- */
:root {
  --bg: #0d1117;          /* very-dark blue */
  --surface: #161b22;
  --border: #30363d;
  --text: #eee;
  --subtle: #888;
  --accent: #0a84ff;
  --ok: #22c55e;
  --warn: #f59e0b;
  --error: #ef4444;
  --grid: #2a2a2a;
}

/* ---------- RESET ---------- */
* { box-sizing: border-box; }
body { margin: 0; font-family: system-ui, sans-serif; background: var(--bg); color: var(--text); overflow: hidden; }

/* ---------- TOP BAR ---------- */
.top-bar { display: flex; align-items: center; padding: 0.5rem 1rem; background: var(--surface); border-bottom: 1px solid var(--border); gap: 0.5rem; user-select: none; }
.brand { display: flex; align-items: center; gap: 0.4rem; font-weight: 600; font-size: 1.1rem; }
.logo { font-size: 1.4rem; }
.shortcuts button, .zoom-controls button { padding: 0.4rem 0.7rem; border: 1px solid var(--border); background: var(--bg); color: var(--text); border-radius: 4px; cursor: pointer; }
.shortcuts button:hover, .zoom-controls button:hover { border-color: var(--accent); }
.spacer { flex: 1; }
.zoom-controls { display: flex; align-items: center; gap: 0.4rem; }
#zoomLevel { min-width: 48px; text-align: center; font-size: 0.8rem; }

/* ---------- LAYOUT ---------- */
.main-layout { display: flex; flex: 1; height: 0; }
.left-panel { width: 260px; background: var(--surface); border-right: 1px solid var(--border); display: flex; flex-direction: column; padding: 0.75rem; gap: 0.5rem; }
#componentSearch { padding: 0.5rem; border: 1px solid var(--border); background: var(--bg); color: var(--text); border-radius: 4px; }
.component-list { flex: 1; overflow-y: auto; display: flex; flex-direction: column; gap: 0.4rem; }
.comp-item { padding: 0.5rem; border: 1px solid var(--border); border-radius: 4px; background: var(--bg); cursor: grab; display: flex; align-items: center; gap: 0.5rem; }
.comp-item:hover { border-color: var(--accent); }
.comp-item:active { cursor: grabbing; }
.comp-icon { font-size: 1.3rem; }
.panel-footer { font-size: 0.7rem; color: var(--subtle); text-align: center; }

/* ---------- CANVAS ---------- */
.canvas-wrapper { flex: 1; position: relative; overflow: hidden; background: var(--bg); background-image: radial-gradient(circle, var(--grid) 1px, transparent 1px); background-size: 20px 20px; }
.canvas { position: absolute; inset: 0; transform-origin: 0 0; }
.card { position: absolute; width: 200px; background: var(--surface); border: 1px solid var(--border); border-radius: 6px; padding: 0.6rem; display: flex; flex-direction: column; gap: 0.4rem; cursor: move; user-select: none; }
.card.selected { border-color: var(--accent); box-shadow: 0 0 0 2px var(--accent); }
.card-title { font-weight: 600; font-size: 0.9rem; display: flex; align-items: center; gap: 0.4rem; }
.card textarea, .card pre { width: 100%; font-size: 0.75rem; font-family: ui-monospace, monospace; border: 1px solid var(--border); background: var(--bg); color: var(--text); border-radius: 4px; padding: 0.3rem; resize: vertical; }
.card pre { max-height: 100px; overflow: auto; }
.card button.run { align-self: flex-end; padding: 0.3rem 0.6rem; border: none; background: var(--accent); color: #fff; border-radius: 4px; cursor: pointer; font-size: 0.75rem; }
.card button.run:hover { filter: brightness(1.15); }

/* ---------- MINIMAP & TOAST ---------- */
#minimap { position: absolute; bottom: 1rem; right: 1rem; width: 160px; height: 100px; background: var(--surface); border: 1px solid var(--border); border-radius: 4px; opacity: 0.7; cursor: pointer; }
#toastContainer { position: fixed; bottom: 1rem; right: 1rem; display: flex; flex-direction: column; gap: 0.5rem; z-index: 999; }
.toast { padding: 0.6rem 1rem; border-radius: 4px; color: #fff; font-size: 0.8rem; animation: slide 0.3s ease; }
.toast.warn  { background: var(--warn);  color: #000; }
.toast.error { background: var(--error); color: #fff; }
@keyframes slide { from { transform: translateX(100%); } to { transform: translateX(0); } }